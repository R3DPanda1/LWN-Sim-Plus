<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no" name="viewport">
  <title>LWN-Sim-Plus</title>

  <!-- General CSS Files -->
  <link rel="stylesheet" href="css/all.css">
  <link rel="stylesheet" href="css/bootstrap.min.css">

  <!-- CSS Libraries -->
  <link rel="stylesheet" href="css/iziToast.min.css">
  <link rel="stylesheet" href="css/leaflet.css"/>
  <link rel="stylesheet" href="css/Control.OSMGeocoder.css"/>

  <!-- Template CSS -->
  <link rel="stylesheet" href="css/custom/style.css">
  <link rel="stylesheet" href="css/custom/components.css">
  <link rel="stylesheet" href="css/custom/custom.css">

  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
</head>

<body>

    <div id="app" >
        <div class="main-wrapper">

            <!-- sidebar -->       
            <div class="main-sidebar" >
                <aside id="sidebar-wrapper">
                    <div class="sidebar-brand">
                    <a href="#" >LWN-Sim-Plus</a>
                    </div>

                    <div class="sidebar-brand sidebar-brand-sm">
                    <a href="#">LWN+</a>
                    </div>

                    <ul id ="sidebar" class="sidebar-menu">
                        
                        <li class="nav-item active">
                            <a id="home-tab" class="nav-link" data-tab="#home">
                                <img class="home  mr-3" /><span>Home</span>
                            </a>
                        </li>

                        <li class="menu-header">Components</li>

                        <li class="nav-item dropdown">
                            <a href="#" class="nav-link has-dropdown">
                                <img class="device  mr-3" />
                                <span>Devices</span>
                            </a>

                            <ul class="dropdown-menu">
                                <li><a id="devs-tab" class="nav-link" data-tab="#devs" >List devices</a></li>
                                <li><a id="add-dev-tab" class="nav-link" data-tab="#add-dev">Add new device</a></li>
                                <li><a id="add-from-template-tab" class="nav-link" data-tab="#add-from-template">Add from template</a></li>
                            </ul>
                        </li>

                        <li class="nav-item dropdown">
                            <a href="#" class="nav-link has-dropdown">
                                <img class="gateway mr-3"/>
                                <span>Gateways</span>
                            </a>

                            <ul class="dropdown-menu">
                                <li><a id="gws-tab" class="nav-link" data-tab="#gws">List gateways</a></li>
                                <li><a id="add-gw-tab" class="nav-link " data-tab="#add-gw">Add new gateway</a></li>            
                            </ul>
                        </li>

                        <li class="nav-item">
                            <a id="bridge-tab" class="nav-link" data-tab="#bridge-gw" >
                                <img class="gateway mr-3"/>
                                <span>Gateway Bridge</span>
                            </a>
                        </li>

                        <li class="nav-item dropdown">
                            <a href="#" class="nav-link has-dropdown">
                                <img class="codec mr-3"/>
                                <span>Codecs</span>
                            </a>

                            <ul class="dropdown-menu">
                                <li><a id="codecs-tab" class="nav-link" data-tab="#codecs">List codecs</a></li>
                                <li><a id="add-codec-tab" class="nav-link" data-tab="#add-codec">Add new codec</a></li>
                            </ul>
                        </li>

                        <li class="nav-item dropdown">
                            <a href="#" class="nav-link has-dropdown">
                                <img class="integration mr-3"/>
                                <span>Integrations</span>
                            </a>

                            <ul class="dropdown-menu">
                                <li><a id="integrations-tab" class="nav-link" data-tab="#integrations">List integrations</a></li>
                                <li><a id="add-integration-tab" class="nav-link" data-tab="#add-integration">Add new integration</a></li>
                            </ul>
                        </li>

                        <li class="nav-item dropdown">
                            <a href="#" class="nav-link has-dropdown">
                                <img class="template mr-3"/>
                                <span>Templates</span>
                            </a>

                            <ul class="dropdown-menu">
                                <li><a id="templates-tab" class="nav-link" data-tab="#templates">List templates</a></li>
                                <li><a id="add-template-tab" class="nav-link" data-tab="#add-template">Add new template</a></li>
                            </ul>
                        </li>
                    </ul>
                </aside>
            </div>
        
            <!-- navbar -->
            <div class="navbar-bg bg-blue"></div> 
            <nav class="navbar navbar-expand-lg main-navbar">
            
                <div class="mr-auto"></div>
                <div class="navbar-nav navbar-right d-flex">
                    <span class="text-white align-self-center font-weight-bold mr-2">Status:</span>
                    <img id="state" src="img/red_circle.svg"  title="Simulator's status" class="mr-3 align-self-center">
                    <button class="btn btn-sim" ><img class="btn-play"></button>
                    <button class="btn btn-sim hide" ><img class="btn-stop"></button>        
        
                </div>

            </nav>
                  
            <!-- Main Content -->
            <div class="main-content tab-content">

                <section class="section">
                    <div class="section-header">
                        <h1>LWN-Sim-Plus</h1>
                    </div>
                </section>

                <!-- home-->
                <div id="home" class="tab-pane fade show active" > 

                    <div class="row">

                        <div class="col-lg-8">
                            <div class="card">
                                <div class="card-body">                 
                                    <div id="map-home"  data-height="500"></div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-4">
                            <div class="card">
                                <div class="card-body  text-center" >                         
                                    <ul class="list-group overflow-auto list-group-flush" data-height="500" id="list-home">       
                                    </ul>                          
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="row">
                        <div class="col-12">
                            <div class="card">

                                <div class="card-header bg-blue clickable p-0" > 
                                    <div id="accordion-console" class="w-100 d-flex align-items-center align-self-stretch">
                                        <div id="container-header-accordion" class="w-100 d-flex align-items-center align-self-stretch">
                                            <h4 id="header-console" class="ml-4 w-100 ">System Log</h4>
                                        </div>
                                        <button class="btn-clean btn pt-2 pb-2 mr-2"> <img src=""> </button>
                                        </div>
                                </div>

                                <div class="card-body">
                                    
                                    <div class="accordion">
                                        <div class="accordion-body collapse show overflow-auto " id="system-log-body" >
                                        
                                        </div>
                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>
                    
                </div>

                <!-- list of devices-->
                <div id="devs" class="tab-pane fade" >
                    <div class="card">
                        <div class="card-body overflow-auto">
                            <div id="mass-delete-controls-wrapper" style="display: none;">
                                <div class="d-flex justify-content-between align-items-center mb-2 p-2" style="background-color: #f8fafb; border-radius: 3px;">
                                    <span id="devices-selected-text"><span id="selected-count">0</span> Devices Selected</span>
                                    <button type="button" class="btn btn-del btn-sm" id="btn-delete-selected-devices">Delete</button>
                                </div>
                            </div>
                            <table class="table table-sm table-hover">
                                <thead>
                                <tr>
                                    <th scope="col" style="width: 40px; text-align: center;">
                                        <input type="checkbox" id="select-all-devices" autocomplete="off">
                                    </th>
                                    <th scope="col">State</th>
                                    <th scope="col">Name</th>
                                    <th scope="col">Device EUI</th>
                                </tr>
                                </thead>
                                <tbody id="list-devices">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- add new device-->
                <div id="add-dev" class="tab-pane fade" >
                    <div class="row">

                        <div class="col-lg-4">
                            <div class="card">
                                <div id="header-sidebar-dev" class="card-header">
                                    <h4>Device's Settings</h4>
                                </div>
                                <div class="card-body">
                                    <ul class="nav nav-pills flex-column" id="device-settings" role="tablist">

                                        <li class="nav-item">
                                        <a class="nav-link active" id="general-tab" data-toggle="tab" href="#general" role="tab" aria-controls="general" aria-selected="true">General</a>
                                        </li>

                                        <li class="nav-item">
                                        <a class="nav-link" id="activation-tab" data-toggle="tab" href="#activation" role="tab" aria-controls="activation" aria-selected="false">Activation</a>
                                        </li>

                                        <li class="nav-item">
                                        <a class="nav-link" id="classA-tab" data-toggle="tab" href="#classA" role="tab" aria-controls="classA" aria-selected="false">Class A</a>
                                        </li>

                                        <li class="nav-item">
                                            <a class="nav-link" id="classB-tab" data-toggle="tab" href="#classB" role="tab" aria-controls="classB" aria-selected="false">Class B</a>
                                        </li>

                                        <li class="nav-item">
                                            <a class="nav-link" id="classC-tab" data-toggle="tab" href="#classC" role="tab" aria-controls="classC" aria-selected="false">Class C</a>
                                        </li>

                                        <li class="nav-item">
                                            <a class="nav-link" id="frames-tab" data-toggle="tab" href="#frames" role="tab" aria-controls="frames" aria-selected="false">Frame's settings</a>
                                        </li>

                                        <li class="nav-item">
                                            <a class="nav-link" id="features-tab" data-toggle="tab" href="#features" role="tab" aria-controls="features" aria-selected="false">Features</a>
                                        </li>

                                        <li class="nav-item">
                                            <a class="nav-link" id="location-tab" data-toggle="tab" href="#location" role="tab" aria-controls="location" aria-selected="false">Location</a>
                                        </li>

                                        <li class="nav-item">
                                            <a class="nav-link" id="payload-tab" data-toggle="tab" href="#payload" role="tab" aria-controls="payload" aria-selected="false">Payload</a>
                                        </li>

                                        <li class="nav-item">
                                            <a class="nav-link" id="device-integration-tab" data-toggle="tab" href="#device-integration" role="tab" aria-controls="device-integration" aria-selected="false">Integration</a>
                                        </li>

                                        <li class="nav-item">
                                            <a class="nav-link" id="device-events-tab" data-toggle="pill" href="#tab-device-events">Events</a>
                                        </li>

                                    </ul>
                                </div>

                            </div>
                        </div>

                        <div class="col-lg-8">
                            <div class="tab-content no-padding" id="tab-content-new-device">
                                
                                <!--general-->
                                <div class="tab-pane fade show active" id="general" role="tabpanel" aria-labelledby="general-tab">
        
                                    <div class="card" id="settings-card">

                                        <div class="card-header">
                                            <h4>General Settings</h4>
                                        </div>

                                        <div class="card-body">
                                            <!--Active/Inactive-->
                                            <div class="form-group row align-items-center">
                                                <div class="col-xl-2">
                                                </div>
                                                
                                                <div class="col-xl-10">
                                                    <input class="form-check-input text-xl-right" type="checkbox" name="checkbox-active-dev">
                                                    <label class="form-control-label ">
                                                        Active
                                                    </label>
                                                </div>
                                                
                                            </div>

                                            <!--Name-->
                                            <div class="form-group row align-items-center">
                                            
                                                <label for="name-dev" class="form-control-label col-xl-2 text-xl-right">Name</label>
                                                <div class="col-xl-10">
                                                    <input type="text" name="input-name-dev" class="form-control" id="name-dev">
                                                </div>

                                            </div>

                                            <!--DevEUI-->
                                            <div class="form-group row align-items-center">
                                            
                                                <label for="dev-eui" class="form-control-label col-xl-2 text-xl-right">DevEUI</label>
                                                <div class="col-xl-10 input-group">
                                                    
                                                    <input type="text" name="input-devEUI" class="form-control mr-1" id="dev-eui">
                                                    <button name="btn-new-devEUI" class="btn btn-classic btn-generate" type="button"><img  heigh=16 src=""/></button>
                                                    <div class="invalid-feedback">
                                                        This format is incorrect. Example correct: 0000000000000000
                                                    </div>

                                                </div>
                                                
                                            </div>

                                            <!--Region-->
                                            <div class="form-group row align-items-center">
                                                
                                                <label class="form-control-label col-xl-2 text-xl-right">Region</label>
                                                <div class="col-xl-10 input-group">
                                                    <select id="region" class="form-control">
                                                        <option value="-1"> </option>
                                                        <option value="1">EU868</option>
                                                        <option value="2">US915</option>
                                                        <option value="3">CN779</option>
                                                        <option value="4">EU433</option>
                                                        <option value="5">AU915</option>
                                                        <option value="6">CN470</option>
                                                        <option value="7">AS923</option>
                                                        <option value="8">KR920</option>
                                                        <option value="9">IN865</option>
                                                        <option value="10">RU864</option>
                                                    </select>
                                                </div> 

                                            </div>
                                        </div>    
                                    </div>
                                </div>

                                <!--activation-->
                                <div class="tab-pane fade" id="activation" role="tabpanel" aria-labelledby="activation-tab">
                                    <div class="card" id="settings-card">
                
                                        <div class="card-header">
                                            <h4>Activation Settings</h4>
                                        </div>
                
                                        <div class="card-body">
                
                                            <!--Otaa supported-->
                                            <div class="form-group row d-flex align-items-center flex-row-reverse">
                                                <div class="col-xl-2">
                                                </div>
                                                
                                                <div class="col-xl-10 ml-3">
                                                    <input class="form-check-input text-xl-right" type="checkbox" id="checkbox-otaa-dev">
                                                    <label class="form-control-label " for="checkbox-otaa-dev">
                                                        Otaa supported
                                                    </label>
                                                </div>
                                                
                                            </div>
                
                                            <!--AppKey-->
                                            <div class="form-group row align-items-center">
                                                
                                                <label for="appkey" class="form-control-label col-xl-2 text-xl-right">App Key</label>
                                                <div class="col-xl-10 input-group">
                                                    
                                                    <input type="password" name="input-key-app" class="form-control mr-1" id="appkey" disabled readonly>
                                                    <button name="btn-watch" class="btn btn-classic btn-watch mr-1" type="button"><img  heigh=16 src=""/></button>
                                                    <button name="btn-new-key" class="btn btn-classic btn-generate" type="button"><img  heigh=16 src=""/></button>
                                                    <div class="invalid-feedback">  
                                                    </div>
                
                                                </div>
                                                
                                            </div>
                
                                            <!--Dev Addr-->
                                            <div class="form-group row align-items-center">
                                                
                                                <label for="devAddr" class="form-control-label col-xl-2 text-xl-right">DevAddr</label>
                                                <div class="col-xl-10 input-group">
                                                    
                                                    <input type="text" name="input-devAddr" class="form-control mr-1" id="devAddr">
                                                    <button name="btn-new-devAddr" class="btn btn-classic btn-generate" type="button"><img  heigh=16 src=""/></button>
                                                    <div class="invalid-feedback">  
                                                        The format is incorrect. Example: 00000000
                                                    </div>
                
                                                </div>
                                                
                                            </div>
                
                                            <!--NwkSKey-->
                                            <div class="form-group row align-items-center">
                                                
                                                <label for="nwkSKey" class="form-control-label col-xl-2 text-xl-right">NwkSKey</label>
                                                <div class="col-xl-10 input-group">
                                                    
                                                    <input type="password" name="input-key-nwkS" class="form-control mr-1" id="nwkSKey">
                                                    <button name="btn-watch" class="btn btn-classic btn-watch mr-1" type="button"><img  heigh=16 src=""/></button>
                                                    <button name="btn-new-key" class="btn btn-classic btn-generate" type="button"><img  heigh=16 src=""/></button>
                                                    <div class="invalid-feedback">  
                                                    </div>
                
                                                </div>
                                                
                                            </div>
                
                                            <!--AppSKey-->
                                            <div class="form-group row align-items-center">
                                                
                                                <label for="appSKey" class="form-control-label col-xl-2 text-xl-right">AppSKey</label>
                                                <div class="col-xl-10 input-group">
                                                    
                                                    <input type="password" name="input-key-appS" class="form-control mr-1" id="appSKey">
                                                    <button name="btn-watch" class="btn btn-classic btn-watch mr-1" type="button"><img  heigh=16 src=""/></button>
                                                    <button name="btn-new-key" class="btn btn-classic btn-generate" type="button"><img  heigh=16 src=""/></button>
                                                    <div class="invalid-feedback">  
                                                    </div>
                
                                                </div>
                                                
                                            </div>
                
                                        </div>
                
                                    </div>
                                                            
                                </div>

                                <!--class A-->
                                <div class="tab-pane fade" id="classA" role="tabpanel" aria-labelledby="classA-tab">
                                    <div class="card" id="settings-card">
            
                                        <div class="card-header">
                                        <h4>Class A Settings</h4>
                                        </div>
            
                                        <div class="card-body">
                                            <p class="text-muted">RX1's settings</p>

                                            <!--Delay-->
                                            <div class="form-group row align-items-center">
                                            
                                                <label for="delay-rx1" class="form-control-label col-xl-2 text-xl-right">Delay</label>
                                                <div class="col-xl-10">
                                                    
                                                    <input type="number" name="input-rx-1-delay" class="form-control" id="delay-rx1">
                                                    <div class="form-text mt-0" >
                                                        Value in milliseconds. Default value is 1 second.
                                                    </div>

                                                </div>
                                            </div>

                                            <!--Duration-->
                                            <div class="form-group row align-items-center">
                                        
                                                <label for="duration-rx1" class="form-control-label col-xl-2 text-xl-right">Duration</label>
                                                <div class="col-xl-10">
                                                    
                                                    <input type="number" name="input-rx-1-duration" class="form-control" id="duration-rx1">
                                                    <div class="form-text mt-0" >
                                                        Value in milliseconds. Default value is 3 second.
                                                    </div>
                                                </div>
                                            </div>

                                            <!--Datarate offset rx1-->
                                            <div class="form-group row align-items-center">
                                                
                                                <label class="form-control-label col-xl-2 text-xl-right">Data Rate offset</label>
                                                <div class="col-xl-10 input-group">
                                                    <select id="dr-offset-rx1" class="form-control">
                                                        
                                                    </select>
            
                                                </div> 
                                                
                                            </div>

                                            <p class="text-muted">RX2's settings</p>

                                            <!--Delay-->
                                            <div class="form-group row align-items-center">
                                            
                                                <label for="delay-rx2" class="form-control-label col-xl-2 text-xl-right">Delay</label>
                                                <div class="col-xl-10">
                                                    
                                                    <input type="number" name="input-rx-2-delay" class="form-control" id="delay-rx2">
                                                    <div class="form-text mt-0" >
                                                        Value in milliseconds. Default value is 1 second.
                                                    </div>

                                                </div>
                                            </div>

                                            <!--Duration-->
                                            <div class="form-group row align-items-center">
                                        
                                                <label for="duration-rx2" class="form-control-label col-xl-2 text-xl-right">Duration</label>
                                                <div class="col-xl-10">
                                                    
                                                    <input type="number" name="input-rx-2-duration" class="form-control" id="duration-rx2">
                                                    <div class="form-text mt-0" >
                                                        Value in milliseconds. Default value is 3 second.
                                                    </div>
                                                </div>
                                            </div>

                                            <!--Frequency-->
                                            <div class="form-group row align-items-center">
                                            
                                                <label class="form-control-label col-xl-2 text-xl-right">Channel frequency</label>
                                                <div class="col-xl-10">
                                                    
                                                    <input type="number" name="input-frequency-rx-2" class="form-control">
                                                    <div class="form-text mt-0" id="label-freq-rx2">
                                                        
                                                    </div>

                                                </div>
                                            </div>

                                            <!--Data rate-->
                                            <div class="form-group row align-items-center">
                                                
                                                <label for="datarate-rx2" class="form-control-label col-xl-2 text-xl-right">Data Rate </label>
                                                <div class="col-xl-10">
                                                    
                                                    <select id="datarate-rx-2" class="form-control">
                                                        <option value="-1"> </option>
                                                    </select>
                                                    <div class="form-text mt-0" id="label-datarate-rx2">

                                                        
                                                    </div>
                                                </div>
                                            </div>

                                            <!--ACK Timeout-->
                                            <div class="form-group row align-items-center">
                                        
                                                <label for="ackTimeout" class="form-control-label col-xl-2 text-xl-right">ACK Timeout</label>
                                                <div class="col-xl-10">
                                                    
                                                    <input type="number" name="input-ackTimeout" class="form-control" id="ackTimeout">
                                                    <div class="form-text mt-0" >
                                                        Correct value between 1 and 3 seconds.Default value is 2 seconds.
                                                    </div>
                                                </div>

                                            </div>
                                
                                        </div>
            
                                    </div>
                                </div>

                                <!--class B-->
                                <div class="tab-pane fade" id="classB" role="tabpanel" aria-labelledby="classB-tab">
                                    <div class="card" id="settings-card">
            
                                        <div class="card-header">
                                        <h4>Class B Settings</h4>
                                        </div>
            
                                        <div class="card-body">
                                            <!--Class B Flag-->
                                            <div class="form-group row d-flex align-items-center flex-row-reverse">
                                                <div class="col-xl-2">      
                                                </div>
                                                
                                                <div class="col-xl-10 ml-3">
                                                    <input class="form-check-input text-xl-right" name ="input-flag" data-class="B" type="checkbox" id="classB-dev">
                                                    <label class="form-control-label " >
                                                        Device Supports Class B
                                                    </label>
                                                </div>
                                                
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--class C-->
                                <div class="tab-pane fade" id="classC" role="tabpanel" aria-labelledby="classC-tab">
                                    <div class="card" id="settings-card">
            
                                        <div class="card-header">
                                        <h4>Class C Settings</h4>
                                        </div>
            
                                        <div class="card-body">
                                            <!--Class C Flag-->
                                            <div class="form-group d-flex row align-items-center">
                                                <div class="col-xl-2">
                
                                                </div>
                                                
                                                <div class="col-xl-10 ml-3">
                                                    <input class="form-check-input text-xl-right" name ="input-flag" data-class="C" type="checkbox" id="classC-dev">
                                                    <label class="form-control-label " >
                                                        Device Supports Class C
                                                    </label>
                                                </div>
                                                
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--Frame's Settings-->
                                <div class="tab-pane fade" id="frames" role="tabpanel" aria-labelledby="frames-tab">
                                    <div class="card" id="settings-card">
            
                                        <div class="card-header">
                                        <h4>Frame Settings</h4>
                                        </div>

                                        <div class="card-body">

                                            <p class="text-muted">Uplink</p>

                                            <!--Data Rate-->
                                            <div class="form-group row align-items-center">
                                                
                                                <label class="form-control-label col-xl-2 text-xl-right">Data Rate</label>
                                                <div class="col-xl-10">
                                                    <select id="datarate-uplink" class="form-control">
                                                    </select>
                                                    <div class="form-text mt-0" id="label-datarate-uplink">

                                                    </div>
                                                </div> 
                                                
                                                
                                            </div>

                                            <!--FPort-->
                                            <div class="form-group row align-items-center">
                                                    
                                                <label  class="form-control-label col-xl-2 text-xl-right">FPort</label>

                                                <div class="col-xl-10">                                              
                                                    <input type="number" name="input-fport" class="form-control" placeholder="FPort" >
                                                    <div class="form-text mt-0" >
                                                        Correct value between 1 and 223.
                                                    </div>
                                                </div>

                                            </div>

                                            <!--Retransmission-->
                                            <div class="form-group row align-items-center">
                                                    
                                                <label class="form-control-label col-xl-2 text-xl-right">Retransmission</label>

                                                <div class="col-xl-10">                                              
                                                    <input type="number" name="input-retransmission" class="form-control" placeholder="Retransmission" >
                                                    <div class="form-text mt-0" >
                                                        # Retransmission for ConfirmedData Uplink
                                                    </div>
                                                </div>

                                            </div>

                                            <!--FCnt-->
                                            <div class="form-group row align-items-center">
                                                    
                                                <label class="form-control-label col-xl-2 text-xl-right">FCnt</label>

                                                <div class="col-xl-10">                                              
                                                    <input type="number" name="input-fcnt" class="form-control" placeholder="FCnt" >
                                                </div>

                                            </div>

                                            <p class="text-muted">Downlink</p>

                                            <!--validation Flag-->
                                            <div class="form-group row align-items-center">
                                                <div class="col-xl-2">
                
                                                </div>
                                                
                                                <div class="col-xl-10">
                                                    <input class="form-check-input text-xl-right" name ="input-validate-counter" type="checkbox" >
                                                    <label class="form-control-label " >
                                                        (FCntDown) Disable frame-counter validation.
                                                    </label>
                                                </div>
                                                
                                            </div>

                                            <!--FCntDown-->
                                            <div class="form-group row align-items-center">
                                                    
                                                <label class="form-control-label col-xl-2 text-xl-right">FCntDown</label>

                                                <div class="col-xl-10">                                              
                                                    <input type="number" name="input-fcnt-downlink" class="form-control" placeholder="FCntDown" >
                                                </div>

                                            </div>

                                        </div>
                                    </div>
                                </div>

                                <!--features -->
                                <div class="tab-pane fade" id="features" role="tabpanel" aria-labelledby="features-tab">
                                    <div class="card" id="settings-card">
            
                                        <div class="card-header">
                                        <h4>Features Settings</h4>
                                        </div>
            
                                        <div class="card-body">
                                            <div class="card-body">

                                                <div class="form-group row align-items-center">
                                                    <div class="col-xl-2">
                    
                                                    </div>
                                                    
                                                    <div class="col-xl-10">
                                                        <input class="form-check-input text-xl-right" name ="input-ADR" type="checkbox" id="ADR-Dev" >
                                                        <label class="form-control-label ">
                                                            ADR enabled
                                                        </label>
                                                    </div>
                                                    
                                                </div>

                                                <!--Range-->
                                                <div class="form-group row align-items-center">
                                                        
                                                    <label  class="form-control-label col-xl-2 text-xl-right">Range Antenna</label>

                                                    <div class="col-xl-10">                                              
                                                        <input type="number" name="input-range" class="form-control" placeholder="Range Antenna" >
                                                        <div  class="form-text mt-0" >
                                                            Value in meters. Default value is 10000 m.
                                                        </div>
                                                    </div>

                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!--location-->
                                <div class="tab-pane fade" id="location" role="tabpanel" aria-labelledby="location-tab">
                                    <div class="card" id="settings-card">
            
                                        <div class="card-header">
                                        <h4>Location Settings</h4>
                                        </div>
            
                                        <div class="card-body">
                                            
                                            <div id="map-dev" data-height="400"></div>
                    
                                            <div id="coords" class="mt-3">
                                                
                                                <!--Latitudine-->
                                                <div class="form-group row align-items-center">
                                                
                                                    <label class="form-control-label col-xl-2 text-xl-right">Latitude</label>
                                                    <div class="col-xl-10">
                                                        
                                                        <input type="text" name="input-latitude" class="form-control" placeholder="Latitude" >
                                                        <div class="invalid-feedback">
                                                        
                                                        </div>

                                                    </div>
                                                </div>

                                                <!--Longitudine-->
                                                <div class="form-group row align-items-center">
                                                
                                                    <label class="form-control-label col-xl-2 text-xl-right">Longitude</label>
                                                    <div class="col-xl-10">
                                                        
                                                        <input type="text" name="input-longitude" class="form-control" placeholder="Longitude" >
                                                        <div class="invalid-feedback">
                                                        
                                                        </div>

                                                    </div>
                                                </div>
                                        
                                                <!--Altitudine-->
                                                <div class="form-group row align-items-center">
                                                
                                                    <label class="form-control-label col-xl-2 text-xl-right">Altitude</label>

                                                    <div class="col-xl-10">                                              
                                                        <input type="number" name="input-altitude" class="form-control" placeholder="Altitude" >
                                                    </div>
                                                </div>
                        
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!--payload-->
                                <div class="tab-pane fade" id="payload" role="tabpanel" aria-labelledby="payload-tab">
                                    <div class="card" id="settings-card">
            
                                        <div class="card-header">
                                        <h4>Payload Settings</h4>
                                        </div>
            
                                        <div class="card-body">

                                            <!--Uplink interval-->
                                            <div class="form-group row align-items-center">
                                                
                                                <label class="form-control-label col-xl-2 text-xl-right">Uplink Interval</label>

                                                <div class="col-xl-10">                                              
                                                    <input type="number" name="input-sendInterval" class="form-control" placeholder="Uplink Interval" >
                                                    <div class="form-text mt-0" >
                                                        The expected interval in seconds in which the device sends uplink. Default value is 10 seconds.
                                                    </div>
                                                </div>
                                            </div>

                                            <!--Fragmentation-->
                                            <div class="form-group row align-items-center">

                                                
                                                <div class=" col-xl-2 "></div>
                                                
                                                <div class="col-xl-10">

                                                    <p class="text-muted">If the payload exceeds the maximum size allowed by regional parameters:</p>
                                                    
                                                    <div class="form-check-inline">
                                                        <input class="form-check-input" type="radio" name="input-fragment" id="fragments" checked >
                                                        <label class="form-check-label" for="fragments">Fragments the frame</label>
                                                    </div>
                
                                                    <div class="form-check-inline">
                                                        <input class="form-check-input" type="radio" name="input-fragment" id="truncates" >
                                                        <label class="form-check-label" for="truncates">Truncates the frame</label>
                                                    </div>
                                        
                                                </div>
                                                
                                            </div>

                                            <!--MType-->
                                            <div class="form-group row align-items-center">
        
                                                <label class="form-control-label col-xl-2 text-xl-right">MType:</label>
                                                
                                                <div class="col-xl-10">

                                                    <div class="form-check-inline">
                                                        <input class="form-check-input" type="radio" name="input-mtype" id="confirmed" checked >
                                                        <label class="form-check-label" for="confirmed">ConfirmedDataUp</label>
                                                    </div>
                
                                                    <div class="form-check-inline">
                                                        <input class="form-check-input" type="radio" name="input-mtype" id="unconfirmed" >
                                                        <label class="form-check-label" for="unconfirmed">UnConfirmedDataUp</label>
                                                    </div>

                                                </div>
                                                
                                            </div>                               
        
                                            <!--Payload Generation-->
                                            <div class="form-group row align-items-center">
                                                <label class="form-control-label col-xl-2 text-xl-right">Payload Generation</label>
                                                <div class="col-xl-10">
                                                    <select id="select-payload-generation" name="select-payload-generation" class="form-control">
                                                        <option value="">Static Payload</option>
                                                    </select>
                                                    <div class="form-text mt-0">
                                                        Choose how to generate device payloads: use static bytes or select a codec for dynamic generation
                                                    </div>
                                                </div>
                                            </div>

                                            <!--Static Payload-->
                                            <div class="form-group row align-items-center">
                                                <label class="form-control-label col-xl-2 text-xl-right">Static Payload</label>
                                                <div class="col-xl-10">
                                                    <textarea id="textarea-payload" class="form-control" name="input-payload" rows="3" placeholder="01020AF5"></textarea>
                                                    <div class="form-text mt-0">
                                                        Hexadecimal payload data (used when "Static Payload" is selected above). Disabled when a codec is selected.
                                                    </div>
                                                </div>
                                            </div>

                                            <!--Base64-->
                                            <div class="form-group row align-items-center">
                                                <div class="col-xl-2">
                                                </div>

                                                <div class="col-xl-10">
                                                    <input class="form-check-input text-xl-right" type="checkbox" name="checkbox-base64">
                                                    <label class="form-control-label ">
                                                        Base64 encoded
                                                    </label>
                                                </div>

                                            </div>

                                        </div>
                                    </div>
                                </div>

                                <!--integration-->
                                <div class="tab-pane fade" id="device-integration" role="tabpanel" aria-labelledby="device-integration-tab">
                                    <div class="card" id="settings-card">

                                        <div class="card-header">
                                        <h4>ChirpStack Integration</h4>
                                        </div>

                                        <div class="card-body">
                                            <!--Integration Enabled Flag-->
                                            <div class="form-group row d-flex align-items-center flex-row-reverse">
                                                <div class="col-xl-2">
                                                </div>

                                                <div class="col-xl-10 ml-3">
                                                    <input class="form-check-input text-xl-right" type="checkbox" id="checkbox-dev-integration-enabled">
                                                    <label class="form-control-label " for="checkbox-dev-integration-enabled">
                                                        Integrate with ChirpStack
                                                    </label>
                                                    <div class="form-text mt-0">
                                                        When enabled, the device will be automatically provisioned to ChirpStack on save
                                                    </div>
                                                </div>
                                            </div>

                                            <!--Integration Settings (shown when enabled)-->
                                            <div id="device-integration-settings" class="hide">

                                                <!--Select Integration-->
                                                <div class="form-group row align-items-center">
                                                    <label class="form-control-label col-xl-2 text-xl-right">Integration</label>
                                                    <div class="col-xl-10">
                                                        <select id="select-dev-integration" class="form-control">
                                                            <option value="">Select an integration...</option>
                                                        </select>
                                                        <div class="form-text mt-0">
                                                            Select the ChirpStack integration to provision this device to
                                                        </div>
                                                    </div>
                                                </div>

                                                <!--Device Profile-->
                                                <div class="form-group row align-items-center">
                                                    <label class="form-control-label col-xl-2 text-xl-right">Device Profile</label>
                                                    <div class="col-xl-10">
                                                        <select id="select-dev-profile" class="form-control">
                                                            <option value="">Select a device profile...</option>
                                                        </select>
                                                        <div class="form-text mt-0">
                                                            The device profile in ChirpStack (determines OTAA/ABP, class, etc.)
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--device events-->
                                <div class="tab-pane fade" id="tab-device-events">
                                    <div class="card">
                                        <div class="card-header">
                                            <h4>Device Events</h4>
                                        </div>
                                        <div class="card-body">
                                            <div id="device-events-body" class="overflow-auto" style="max-height: 400px;"></div>
                                        </div>
                                    </div>
                                </div>

                                <!--buttons-->
                                <div id="div-buttons-dev" data-addr="" class="card-footer bg-whitesmoke text-right">
                                    <button name="btn-delete-dev" class="btn btn-del hide" type="button">Delete</button>
                                    <button name="btn-edit-dev" class="btn btn-edit hide" type="button">Edit</button>
                                    <button name="btn-save-dev" class="btn btn-classic" type="button">Save</button>     
                                </div>

                            </div>
                        </div>
                        
                    </div>
                    
                </div>

                <!-- add devices from template -->
                <div id="add-from-template" class="tab-pane fade">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="card">
                                <div class="card-header">
                                    <h4>Create Devices from Template</h4>
                                </div>
                                <div class="card-body">
                                    <!-- Template selection -->
                                    <div class="form-group">
                                        <label>Template</label>
                                        <select id="select-bulk-template" class="form-control" required>
                                            <option value="">Select a template...</option>
                                        </select>
                                    </div>

                                    <!-- Device count -->
                                    <div class="form-group">
                                        <label>Number of Devices</label>
                                        <input type="number" id="input-bulk-count" class="form-control" min="1" max="1000" value="10" required>
                                    </div>

                                    <!-- Name prefix -->
                                    <div class="form-group">
                                        <label>Name Prefix</label>
                                        <input type="text" id="input-bulk-prefix" class="form-control" placeholder="e.g., AM319" required>
                                        <small class="form-text text-muted">Devices will be named: AM319-1, AM319-2, etc.</small>
                                    </div>

                                    <!-- Submit button -->
                                    <div class="form-group">
                                        <button type="button" class="btn btn-classic btn-block" id="btn-bulk-create-submit">Create Devices</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="card">
                                <div class="card-header">
                                    <h4>Base Location</h4>
                                </div>
                                <div class="card-body">
                                    <!-- Map for base location -->
                                    <div class="form-group">
                                        <label>Click on map to set location</label>
                                        <div id="map-bulk-create" style="height: 300px;"></div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Latitude</label>
                                                <input type="text" id="input-bulk-lat" class="form-control" placeholder="Latitude" value="0">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Longitude</label>
                                                <input type="text" id="input-bulk-lng" class="form-control" placeholder="Longitude" value="0">
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Spread radius -->
                                    <div class="form-group">
                                        <label>Coordinate Spread (meters)</label>
                                        <input type="number" id="input-bulk-spread" class="form-control" value="100" min="1">
                                        <small class="form-text text-muted">Devices will be placed randomly within this radius</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- list of gateways-->
                <div id="gws" class="tab-pane fade" >

                    <div class="card">
                        <div class="card-body overflow-auto">
                            <table class="table table-sm table-hover">
                                <thead>
                                <tr>
                                    <th class ="w-25" scope="col">Initial state</th>  
                                    <th class ="w-25" scope="col">Name</th>
                                    <th class ="w-25" scope="col">MAC Address</th>
                                    <th class ="w-25" scope="col">Type</th>
                                </tr>
                                </thead>
                                <tbody id="list-gateways">
                                                 
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- add gateway-->
                <div id="add-gw" class="tab-pane fade" >
                    <div class="card">
                        <div class="card-body">

                            <!--type of gateway-->
                            <div id="choose-type" class="btn-group mb-3 d-flex justify-content-center" role="group" aria-label="Basic example">
                                <button id="virtual-gw" name="type-gw" type="button" class="btn btn-classic mr-3" >Virtual gateway</button>
                                <button id="real-gw" name="type-gw" type="button" class="btn btn-classic">Real gateway</button>
                            </div>
            
                            <div id="info-gw" class="hide">
                                
                                <!--Active/Inactive-->
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="checkbox-active-gw">
                                    <label class="form-check-label" for="checkbox-active-gw">
                                    Active
                                    </label>
                                </div>

                                <!--Name-->
                                <div class="form-group mt-3">
                                    <label>Name</label>
                                    <input type="text" class="form-control" name="input-name-gw" placeholder="Gateway's Name" required="">
                                    <div class="invalid-feedback">
                                        Choose another name for the gateway.
                                    </div>
                                </div>

                                <!--MAC Address-->
                                <div class="form-group mt-3">

                                    <label>MAC Address</label>
                                    <div class="input-group">

                                        <input type="text" class="form-control mr-1" name="input-MAC-gw" placeholder="Gateway's MAC Address" required="">
                                        <button name="btn-new-MACAddress" class="btn btn-classic btn-generate" type="button"><img  heigh=16 src=""/></button>
                                        <div class="invalid-feedback">
                                            The format is incorrect. Example correct: 0000000000000000
                                        </div>
                                    </div>           

                                </div>

                                <!--info real gateway-->
                                <div id="info-real-gw" class="hide">

                                    <div class="form-group">
                                        <label>Gateway's IPv4</label>
                                        <input type="text" class="form-control" name="input-IP-gw" required="">
                                        <div class="invalid-feedback">
                                            The format is incorrect. Example: 192.168.1.1
                                        </div>
                                    </div>
                        
                                    <div class="form-group">
                                        <label>Gateway's Port</label>
                                        <input type="text" class="form-control" name="input-port-gw" required="">
                                        <div class="invalid-feedback">
                                            Please choose a number from 0 to 65535.
                                        </div>
                                    </div>

                                </div>

                                <!--info virtual gateway-->
                                <div id="info-virtual-gw" class="hide">

                                    <div class="form-group">

                                        <label>KeepAlive</label>
                                        <input type="number" class="form-control" name="input-KeepAlive" aria-describedby="KeepAliveHelpBlock" placeholder="KeepAlive in seconds">
                                        <div id="KeepAliveHelpBlock" class="form-text mt-0" >
                                            Default value is 30 seconds.
                                        </div>

                                    </div>
                                </div>

                                <!--location-->
                                <div id="location" class="row">
                                    <div class="col-lg-9">
                                        <div id="map-gw" data-height="400"></div>
                                    </div>

                                    <div id="coords" class="col-lg-3">

                                        <!--Latitudine-->
                                        <div class="form-group mt-3">

                                            <label>Latitude</label>

                                            <input type="text" class="form-control" name="input-latitude" placeholder="Latitude" >

                                        </div>

                                        <!--Longitudine-->
                                        <div class="form-group mt-3">

                                            <label>Longitude</label>

                                            <input type="text" class="form-control" name="input-longitude" placeholder="Longitude" >
                
                                        </div>

                                        <!--Altitudine-->
                                        <div class="form-group mt-3">

                                            <label>Altitude</label>

                                            <input type="number" class="form-control" name="input-altitude" placeholder="Altitude" >
                                        
                                        </div>

                                    </div>
                                </div>

                                <!--buttons-->
                                <div id="div-buttons-gw" data-addr="" class=" d-flex justify-content-end">
                                    <button name="btn-delete-gw" class="btn btn-del  mr-1 hide" type="button">Delete</button>
                                    <button name="btn-edit-gw" class="btn btn-edit  mr-1 hide" type="button">Edit</button>
                                    <button name="btn-save-gw" class="btn btn-classic " type="button">Save</button>
                                </div>

                            </div>

                        </div>
                    </div>

                </div>

                <!-- gateway bridge-->
                <div id="bridge-gw" class="tab-pane fade" >

                    <div class="form-group">
                        <label>Gateway Bridge's address</label>
                        <input type="text" class="form-control" name="input-IP-bridge" required="">
                        <div class="form-text mt-0">
                            Correct format: IPv4 or URL.
                        </div>
                    
                    </div>

                    <div class="form-group">
                        <label>Gateway Bridge's Port</label>
                        <input type="text" class="form-control" name="input-port-bridge" required="">
                        <div class="invalid-feedback">
                            Please choose a number from 0 to 65535 
                        </div>
                    </div>
                    
                    <div class="d-grid gap-2 d-xl-flex justify-content-xl-end me-1">
                        <button name="save-bridge" class="btn btn-classic " type="button">Save</button>
                    </div>

                </div>

                <!-- list of codecs-->
                <div id="codecs" class="tab-pane fade" >

                    <div class="card">
                        <div class="card-body overflow-auto">
                            <table class="table table-sm table-hover">
                                <thead>
                                <tr>
                                    <th scope="col">Name</th>
                                    <th scope="col">Used By</th>
                                </tr>
                                </thead>
                                <tbody id="list-codecs">

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- add codec-->
                <div id="add-codec" class="tab-pane fade" >
                    <div class="card">
                        <div class="card-header">
                            <h4>Codec Configuration</h4>
                        </div>
                        <div class="card-body">

                            <!--Name-->
                            <div class="form-group">
                                <label>Name</label>
                                <input type="text" class="form-control" name="input-codec-name" placeholder="e.g., Milesight AM319" required="">
                                <div class="invalid-feedback">
                                    Choose another name for the codec.
                                </div>
                            </div>

                            <!--JavaScript Code-->
                            <div class="form-group">
                                <label>JavaScript Code</label>
                                <div class="form-text mb-2">
                                    Write your OnUplink and/or OnDownlink functions below. Available helpers: getState(), setState(), getSendInterval(), setSendInterval(), hexToBytes(), base64ToBytes(), log()
                                </div>
                                <textarea id="textarea-codec-script" class="form-control" name="input-codec-script" rows="20"></textarea>
                            </div>

                        </div>

                        <!--buttons-->
                        <div id="div-buttons-codec" data-id="" class="card-footer bg-whitesmoke text-right">
                            <button name="btn-delete-codec" class="btn btn-del hide" type="button">Delete</button>
                            <button name="btn-edit-codec" class="btn btn-edit hide" type="button">Edit</button>
                            <button name="btn-save-codec" class="btn btn-classic" type="button">Save</button>
                        </div>

                    </div>

                    <!-- Codec Testing Panel -->
                    <div class="card mt-3" id="codec-test-panel">
                        <div class="card-header">
                            <h4>Codec Testing</h4>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <!-- Left Column: Test Controls -->
                                <div class="col-md-6">

                                    <!-- Test Uplink Section -->
                                    <div class="form-group">
                                        <label>OnUplink()</label>
                                        <button id="btn-test-uplink" class="btn btn-classic btn-block" type="button">
                                            Run OnUplink
                                        </button>
                                        <small id="uplink-exec-time" class="form-text text-muted" style="display: none;"></small>
                                    </div>

                                    <div class="form-group">
                                        <label>Bytes</label>
                                        <div class="input-group">
                                            <input type="text" id="output-uplink-bytes" class="form-control font-monospace mr-1" readonly placeholder="Byte array will appear here...">
                                            <button id="btn-copy-uplink-bytes" class="btn btn-classic btn-copy" type="button" title="Copy">
                                                <img height="16" width="16" src="">
                                            </button>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label>fPort</label>
                                        <input type="text" id="output-uplink-fport" class="form-control font-monospace" readonly placeholder="">
                                    </div>

                                    <hr>

                                    <!-- Test Downlink Section -->
                                    <div class="form-group">
                                        <label>OnDownlink(bytes, fPort)</label>
                                    </div>

                                    <div class="form-group">
                                        <label>Input Bytes</label>
                                        <input type="text" id="input-downlink-bytes" class="form-control font-monospace" placeholder="01A2FF">
                                    </div>

                                    <div class="form-group">
                                        <label>fPort</label>
                                        <input type="number" id="input-downlink-fport" class="form-control" value="1" min="1" max="223">
                                    </div>

                                    <div class="form-group">
                                        <button id="btn-test-downlink" class="btn btn-classic btn-block" type="button">
                                            Run OnDownlink
                                        </button>
                                        <small id="downlink-exec-time" class="form-text text-muted" style="display: none;"></small>
                                    </div>

                                </div>

                                <!-- Right Column: State and Logs -->
                                <div class="col-md-6">

                                    <!-- State Viewer Card -->
                                    <div class="card mb-3">
                                        <div class="card-header bg-blue clickable p-0">
                                            <div class="w-100 d-flex align-items-center align-self-stretch">
                                                <div class="w-100 d-flex align-items-center align-self-stretch">
                                                    <h4 class="ml-4 w-100 text-white">State</h4>
                                                </div>
                                                <button id="btn-reset-state" class="btn-clean btn pt-2 pb-2 mr-2" type="button"> <img src="img/white_delete.svg"> </button>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <pre id="output-state-viewer" class="border rounded p-2 bg-light" style="height: 150px; overflow-y: auto; font-size: 12px;">{}</pre>
                                        </div>
                                    </div>

                                    <!-- Console/Log Output Card -->
                                    <div class="card">
                                        <div class="card-header bg-blue clickable p-0">
                                            <div class="w-100 d-flex align-items-center align-self-stretch">
                                                <div class="w-100 d-flex align-items-center align-self-stretch">
                                                    <h4 class="ml-4 w-100 text-white">Console</h4>
                                                </div>
                                                <button id="btn-clear-logs" class="btn-clean btn pt-2 pb-2 mr-2" type="button"> <img src="img/white_delete.svg"> </button>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <div id="output-console-logs" class="border rounded p-2 bg-dark text-white" style="height: 300px; overflow-y: auto; font-size: 12px; font-family: monospace;">
                                                <div class="text-muted">Console output will appear here...</div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- list of integrations-->
                <div id="integrations" class="tab-pane fade" >

                    <div class="card">
                        <div class="card-body overflow-auto">
                            <table class="table table-sm table-hover">
                                <thead>
                                <tr>
                                    <th scope="col">Status</th>
                                    <th scope="col">Name</th>
                                    <th scope="col">Type</th>
                                    <th scope="col">URL</th>
                                </tr>
                                </thead>
                                <tbody id="list-integrations">

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- add integration-->
                <div id="add-integration" class="tab-pane fade" >
                    <div class="card">
                        <div class="card-header">
                            <h4>Integration Information</h4>
                        </div>
                        <div class="card-body">

                            <!--Name-->
                            <div class="form-group">
                                <label>Name</label>
                                <input type="text" class="form-control" name="input-integration-name" placeholder="e.g., My ChirpStack Server" required="">
                                <div class="invalid-feedback">
                                    Choose another name for the integration.
                                </div>
                            </div>

                            <!--Type-->
                            <div class="form-group">
                                <label>Type</label>
                                <select id="select-integration-type" class="form-control" name="select-integration-type">
                                    <option value="chirpstack">ChirpStack</option>
                                </select>
                            </div>

                            <!--URL-->
                            <div class="form-group">
                                <label>Server URL</label>
                                <input type="text" class="form-control" name="input-integration-url" placeholder="e.g., http://localhost:8080" required="">
                                <div class="form-text mt-0">
                                    The ChirpStack Application Server URL (include http:// or https://)
                                </div>
                            </div>

                            <!--API Key-->
                            <div class="form-group">
                                <label>API Key</label>
                                <div class="input-group">
                                    <input type="password" class="form-control mr-1" name="input-integration-apikey" placeholder="ChirpStack API Key" required="">
                                    <button name="btn-watch-apikey" class="btn btn-classic btn-watch" type="button"><img heigh="16" src=""/></button>
                                </div>
                                <div class="form-text mt-0">
                                    Generate an API key in ChirpStack under API Keys section
                                </div>
                            </div>

                            <!--Tenant ID-->
                            <div class="form-group">
                                <label>Tenant ID</label>
                                <input type="text" class="form-control" name="input-integration-tenantid" placeholder="e.g., a1b2c3d4-e5f6-7890-abcd-ef1234567890" required="">
                                <div class="form-text mt-0">
                                    The UUID of your ChirpStack Tenant (found in Tenants section)
                                </div>
                            </div>

                            <!--Application ID-->
                            <div class="form-group">
                                <label>Application ID</label>
                                <input type="text" class="form-control" name="input-integration-appid" placeholder="e.g., a1b2c3d4-e5f6-7890-abcd-ef1234567890" required="">
                                <div class="form-text mt-0">
                                    The UUID of your ChirpStack Application
                                </div>
                            </div>

                            <!--Enabled-->
                            <div class="form-group">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="checkbox-integration-enabled" checked>
                                    <label class="form-check-label" for="checkbox-integration-enabled">
                                        Enabled
                                    </label>
                                </div>
                            </div>

                        </div>

                        <!--buttons-->
                        <div id="div-buttons-integration" data-id="" class="card-footer bg-whitesmoke text-right">
                            <button name="btn-test-integration" class="btn btn-test hide" type="button">Test</button>
                            <button name="btn-delete-integration" class="btn btn-del hide" type="button">Delete</button>
                            <button name="btn-edit-integration" class="btn btn-edit hide" type="button">Edit</button>
                            <button name="btn-save-integration" class="btn btn-classic" type="button">Save</button>
                        </div>

                    </div>
                </div>

                <!-- list of templates-->
                <div id="templates" class="tab-pane fade" >
                    <div class="card">
                        <div class="card-body overflow-auto">
                            <table class="table table-sm table-hover">
                                <thead>
                                <tr>
                                    <th scope="col">Name</th>
                                    <th scope="col">Region</th>
                                    <th scope="col">Codec</th>
                                </tr>
                                </thead>
                                <tbody id="list-templates">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- add template-->
                <div id="add-template" class="tab-pane fade" >
                    <div class="card">
                        <div class="card-header">
                            <h4>Template Configuration</h4>
                        </div>
                        <div class="card-body">

                            <!--Name-->
                            <div class="form-group">
                                <label>Template Name</label>
                                <input type="text" class="form-control" name="input-template-name" placeholder="e.g., AM319 Temperature Sensor" required="">
                                <div class="invalid-feedback">
                                    Choose a unique name for the template.
                                </div>
                            </div>

                            <!--Region-->
                            <div class="form-group">
                                <label>Region</label>
                                <select id="select-template-region" class="form-control" name="select-template-region">
                                    <option value="1" selected>EU868</option>
                                    <option value="2">US915</option>
                                    <option value="3">CN779</option>
                                    <option value="4">EU433</option>
                                    <option value="5">AU915</option>
                                    <option value="6">CN470</option>
                                    <option value="7">AS923</option>
                                    <option value="8">KR920</option>
                                    <option value="9">IN865</option>
                                    <option value="10">RU864</option>
                                </select>
                            </div>

                            <hr>
                            <h5>Device Class</h5>

                            <!--Class B-->
                            <div class="form-group">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="checkbox-template-classb">
                                    <label class="form-check-label" for="checkbox-template-classb">
                                        Support Class B
                                    </label>
                                </div>
                            </div>

                            <!--Class C-->
                            <div class="form-group">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="checkbox-template-classc">
                                    <label class="form-check-label" for="checkbox-template-classc">
                                        Support Class C
                                    </label>
                                </div>
                            </div>

                            <hr>
                            <h5>Features</h5>

                            <!--ADR-->
                            <div class="form-group">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="checkbox-template-adr" checked>
                                    <label class="form-check-label" for="checkbox-template-adr">
                                        Enable ADR (Adaptive Data Rate)
                                    </label>
                                </div>
                            </div>

                            <!--Range-->
                            <div class="form-group">
                                <label>Antenna Range (meters)</label>
                                <input type="number" class="form-control" name="input-template-range" value="10000" min="1">
                            </div>

                            <!--Data Rate-->
                            <div class="form-group">
                                <label>Initial Data Rate</label>
                                <input type="number" class="form-control" name="input-template-datarate" value="0" min="0" max="15">
                            </div>

                            <!--Send Interval-->
                            <div class="form-group">
                                <label>Send Interval (seconds)</label>
                                <input type="number" class="form-control" name="input-template-sendinterval" value="60" min="1">
                            </div>

                            <hr>
                            <h5>RX Window Settings</h5>

                            <!--RX1 Duration-->
                            <div class="form-group">
                                <label>RX1 Window Duration (ms)</label>
                                <input type="number" class="form-control" name="input-template-rx1duration" value="3000" min="100" max="30000">
                                <div class="form-text mt-0">
                                    How long the RX1 receive window stays open. Default: 3000ms (3 seconds).
                                </div>
                            </div>

                            <!--RX2 Duration-->
                            <div class="form-group">
                                <label>RX2 Window Duration (ms)</label>
                                <input type="number" class="form-control" name="input-template-rx2duration" value="3000" min="100" max="30000">
                                <div class="form-text mt-0">
                                    How long the RX2 receive window stays open. Default: 3000ms (3 seconds).
                                </div>
                            </div>

                            <hr>

                            <!--fPort-->
                            <div class="form-group">
                                <label>Default fPort</label>
                                <input type="number" class="form-control" name="input-template-fport" value="1" min="1" max="223">
                            </div>

                            <hr>
                            <h5>Payload</h5>

                            <!--Codec-->
                            <div class="form-group">
                                <label>Payload Generation</label>
                                <select id="select-template-codec" class="form-control" name="select-template-codec">
                                    <option value="">Static Payload</option>
                                </select>
                            </div>

                            <hr>
                            <h5>Integration</h5>

                            <!--Integration Enabled-->
                            <div class="form-group">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="checkbox-template-integration-enabled">
                                    <label class="form-check-label" for="checkbox-template-integration-enabled">
                                        Enable ChirpStack Integration
                                    </label>
                                </div>
                            </div>

                            <!--Integration Selection (hidden by default)-->
                            <div id="template-integration-settings" class="hide">
                                <div class="form-group">
                                    <label>Integration</label>
                                    <select id="select-template-integration" class="form-control" name="select-template-integration">
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label>Device Profile</label>
                                    <select id="select-template-device-profile" class="form-control" name="select-template-device-profile">
                                    </select>
                                </div>
                            </div>

                        </div>

                        <!--buttons-->
                        <div id="div-buttons-template" data-id="" class="card-footer bg-whitesmoke text-right">
                            <button name="btn-delete-template" class="btn btn-del hide" type="button">Delete</button>
                            <button name="btn-edit-template" class="btn btn-edit hide" type="button">Edit</button>
                            <button name="btn-save-template" class="btn btn-classic" type="button">Save</button>
                        </div>

                    </div>
                </div>

            </div>

        </div>
    </div>

    <!-- Modals-->
    <form class="modal fade" tabindex="-1" role="dialog" data-addr="" data-mtype="" id="modal-send-data">
        <div class="modal-dialog" role="document">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title">Send Uplink</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </div>

                <div class="form-group modal-body">

                    <label>Payload</label>

                    <div class="input-group">
                        <textarea type="text" class="form-control" placeholder="Payload" name="send-payload" rows="3"></textarea>
                    </div>

                </div>

                <div class="modal-footer bg-whitesmoke br">
                    <button type="button" class="btn btn-del" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-classic" id="submit-send-payload">Send</button>
                </div>
                
            </div>
        </div>
    </form>

    <form class="modal fade" tabindex="-1" role="dialog" data-addr="" id="modal-pingSlotInfoReq">
        <div class="modal-dialog" role="document">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title">Send PingSlotInfoReq MAC Command</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </div>

                <div class="form-group modal-body">

                    <label>Periodicity</label>

                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Periodicity" name="periodicity" />
                    </div>

                </div>

                <div class="modal-footer bg-whitesmoke br">
                    <button type="button" class="btn btn-del" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-classic" id="submit-send-mac-command">Send</button>
                </div>
                
            </div>
        </div>
    </form>

    <form class="modal fade" tabindex="-1" role="dialog" data-addr="" id="modal-location">
        <div class="modal-dialog" role="document">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title">Change location</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </div>

                <div class="form-group modal-body">
                        <!--location-->
                        <div id="location" >
                            <div id="map-modal" data-height="300"></div>

                            <div id="coords">

                                <!--Latitudine-->
                                <div class="form-group mt-3">
                                    <label>Latitude</label>
                                    <input type="text" class="form-control" name="input-latitude" placeholder="Latitude" >
                                    <div class="invalid-feedback">
                                        
                                    </div>
                                </div>

                                <!--Longitudine-->
                                <div class="form-group mt-3">
                                    <label>Longitude</label>
                                    <input type="text" class="form-control" name="input-longitude" placeholder="Longitude" >
                                    <div class="invalid-feedback">
                                        
                                    </div>
                                </div>

                                <!--Altitudine-->
                                <div class="form-group mt-3">
                                    <label>Altitude</label>
                                    <input type="number" class="form-control" name="input-altitude" placeholder="Altitude" >
                                </div>

                            </div>
                        </div>
                </div>

                <div class="modal-footer bg-whitesmoke br">
                    <button type="button" class="btn btn-del" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-classic" id="submit-new-location">Send</button>
                </div>
                
            </div>
        </div>
    </form>

    <form class="modal fade" tabindex="-1" role="dialog" data-addr="" id="modal-change-payload">
        <div class="modal-dialog" role="document">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title">Change Payload</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </div>

                <div class="form-group modal-body">

                    <!--MType-->
                    <div class="form-group row align-items-center">
 
                        <label class="form-control-label col-md-2 text-md-right">MType:</label>
                        
                        <div class="col-md-10">

                            <div class="form-check-inline">
                                <input class="form-check-input" type="radio" name="input-mtype-modal" id="confirmed-modal" checked >
                                <label class="form-check-label" >ConfirmedDataUp</label>
                            </div>

                            <div class="form-check-inline">
                                <input class="form-check-input" type="radio" name="input-mtype-modal" id="unconfirmed-modal" >
                                <label class="form-check-label" >UnConfirmedDataUp</label>
                            </div>

                        </div>
                        
                    </div>                               

                    <!--Payload-->
                    <div class="form-group row align-items-center">
                        <label class="form-control-label col-md-2 text-md-right">Payload</label>
                        <div class="col-md-10">
                          <textarea id="payload-modal" class="form-control" rows="3"></textarea>
                        </div>
                    </div>
                    
                </div>

                <div class="modal-footer bg-whitesmoke br">
                    <button type="button" class="btn btn-del" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-classic" name="btn-change-payload">Change</button>
                </div>
                
            </div>
        </div>
    </form>

    <form class="modal fade" tabindex="-1" role="dialog" data-addr="" id="modal-table">
        <div class="modal-dialog" role="document">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title">Data rate table</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </div>

                <div class="form-group modal-body">
                    <table class="table table-sm text-center">
                        <thead>
                          <tr>
                            <th scope="col">Data rate</th>
                            <th scope="col">Configuration</th>
                            <th scope="col">Max payload size without FOpts</th>
                            <th scope="col">Max payload size with FOpts</th>
                          </tr>
                        </thead>
                        <tbody id ="table-body">
                          
                          
                        </tbody>
                      </table>
                    
                </div>
                
            </div>
        </div>
    </form>

    <!-- General JS Scripts -->
  <script src="js/jquery-3.3.1.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
    <script src="js/moment.min.js"></script>
  <script src="js/custom/stisla.js"></script>
  
  <script src="js/jquery.nicescroll.min.js"></script>
  
  <!-- JS Libraies -->
  <script src="js/sweetalert.min.js"></script>
  <script src="js/iziToast.min.js"></script>
  <script src="js/socket.io.min.js"></script> 
  <script src="js/leaflet.js"></script>
  <script src="js/Control.OSMGeocoder.js"></script>

  
  <!-- Template JS File scripts.js must be before custom.js-->
  <script src="js/custom/scripts.js"></script>

  <!-- Monaco Editor -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.52.0/min/vs/loader.min.js"></script>
  <script src="js/custom/monaco-init.js"></script>

  <!-- Page Specific JS File -->
  <script src="js/custom/custom.js?v=2"></script>
  <script src="js/custom/codec.js"></script>
  <script src="js/custom/integration.js"></script>
  <script src="js/custom/template.js"></script>

</body>

</html>